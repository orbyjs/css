var e={};function n(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function r(e){var r=[],t=[],a={selector:e=n(e),children:r,type:"selector",properties:t},s=e.match(/^\@(\w+) (.+)/);return s?{selector:s[0],type:s[1],value:s[2],children:r,properties:t}:(a.selectors=function(e){var r=(e=n(e)).length,t="",a=0,s=[],c=[],u="",i=0,o=0,l={value:"",args:[]},f=function(e){return-1===c.indexOf(e)&&c.push(e)},p=function(e){return-1===s.indexOf(e)&&s.push(e)};p(l);for(var v=0;v<r;v++)if(t=e[v],i||o)u+=t,"'"!==t&&'"'!==t||("'"===t?i=!1:o=!1);else switch(t){case":":":"===e[v-1]?l.value+=":":l.value?(p(l),p(l={value:":",args:[]})):l.value=":",u="";break;case"(":case")":"("==t?a++||(u=""):--a||(l.args.push(u),u="");break;case"'":case'"':"'"===t?i++:o++,u+=t;break;case",":a?(l.args.push(u),u=""):(s.length&&f(s),l.value&&p(l),f(s=[l={value:"",args:[]}]));break;case"\n":continue;default:a?u+=t:l.value+=t}return l.value&&p(l),s.length&&f(s),c}(a.selector),a)}function t(e){var a,s,c="",u=0,i=[],o=0,l=0,f=[];e=n(e).replace(/([^\:]+):([^\;]+){0,1}}/g,"$1:$2;}");for(var p=0;p<e.length;p++)if(a=e[p],"\\"!==e[p-1])if(o||l)c+=a,"'"!==a&&'"'!==a||("'"===a?o=!1:l=!1);else switch(a){case";":if(/\{/.test(c))c+=a;else{var v=(c=n(c)).match(/^([\w\<\-]+)(?:\s*):(.+)/)||[],h=v[1],m=v[2];h&&m?s.properties.push({index:h,value:n(m)}):c&&i.push(r(c)),c=""}break;case"{":u++?c+=a:(s=r(c),i.push(s),c="");break;case"}":if(--u)f.push(c+=a);else{for(var d=[],g=0;g<f.length;g++)d=d.concat(t(f[g]));s.children=d,f=[]}c="";break;case"'":o=!0,c+=a;break;case'"':l=!0,c+=a;break;default:c+=a}else c+=a;return i}var a=0;function s(n){var r=e.document||document;return e.HTMLInstances||(e.HTMLInstances={}),e.HTMLInstances[n]||(e.HTMLInstances[n]=r.createElement(n)),e.HTMLInstances[n]}function c(e){return e.map(function(e){var n=e.args;return e.value+(n.length?"("+n.join(",")+")":"")}).join(":")}function u(e,n,r,t){void 0===t&&(t=0);var a=[],s="."+n,i=e.selectors.map(function(e){var n=e[0],a=n.value,u=n.args,i=e.slice(1);switch(a=a.replace(/(\s+)$/," ")){case":host":return u.length?u.map(function(e){return s+e}):s;case":global":return u.join(",");case"& ":case"&":return r+("&"===a?"":" ")+c(i);default:return t?(r?r+" ":"")+a+c(i):s+" "+(a+c(i))}}),o=e.properties.map(function(e){var r=e.index,t=e.value;return/^animation(-name){0,1}$/.test(r)&&(t=n+t),r+":"+t});return o.length&&a.push(i.join(",")+"{"+o.join(";")+"}"),e.children.map(function(e){(e=i.map(function(r){return u(e,n,r,t+1)})).length&&(a=a.concat.apply(a,e))}),a}function i(e,n,r){return void 0===r&&(r=""),e.reduce(function(e,r){switch(r.type){case"keyframes":return e.concat("@keyframes "+(n+r.value)+"{"+r.children.map(function(e){return u(e,n,"",1)}).join("")+"}");case"media":case"supports":return e.concat("@media "+r.value+"{"+r.children.map(function(e){return u(e,n)}).join("")+"}");case"selector":return e.concat(u(r,n));case"import":return e.concat(r.selector+";");default:return e}},[])}function o(e,n){var r={},s="--cn-"+a++,c=0,u=e.map(function(e,t){if("function"==typeof n[t]){var a=s+"-"+c++;r[a]=n[t],e+="var("+a+")"}else e+=n[t]||"";return e}).join("");return{space:s,rules:i(t(u),s),customVars:r}}function l(n){return function(r){var t="function"==typeof r,a=t?{}:s(r)||{};return function(s){for(var c=[],u=arguments.length-1;u-- >0;)c[u]=arguments[u+1];var i=o(s,c),l=i.space,f=i.rules,p=i.customVars,v=e.document||document,h=v.getElementById(l),m=h||v.createElement("style");return h||(m.id=l,v.head.appendChild(m)),m.sheet&&!e.disableSheet?f.map(function(e,n){return m.sheet.insertRule(e,n)}):m.innerHTML=f.join(""),function(e,s){var c="string"==typeof e.style?e.style:"",u={},i=[l];for(var o in(e.className||e.class)&&i.push(e.className||e.class),p){var f=p[o](e,s);f&&(c+=o+":"+f+";")}for(var v in e)(t||"function"==typeof e[v]||v in a)&&(u[v]=e[v]);return u.className=u.class=i.join(" "),u.style=c,n(r,u,e.children)}}}}export{s as getTagInstance,c as stateToArgs,u as createRuleSelector,i as createStaticCss,o as transpile,l as createStyled,t as parse,e as options};
//# sourceMappingURL=orby-css.mjs.map
