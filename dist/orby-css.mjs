function e(e){return e.trim?e.trim():e.replace(/^\s*|\s*$/,"")}function r(r){var t=[],n=[],a={selector:r=e(r),children:t,type:"selector",properties:n},c=r.match(/^\@(\w+) (.+)/);return c?{selector:c[0],type:c[1],value:c[2],children:t,properties:n}:(a.selectors=function(e){for(var r,t="",n=0,a=[],c=[],s=0;s<e.length;s++){var o=e[s];"("===o?n++?t+=o:(c=[],r=t,t=""):")"===o?--n?t+=o:(c.push(t),a.push({name:r,args:c}),t="",c=[]):","===o?(t&&(n?c.push(t):a.push({name:t})),t=""):t+=o}return t&&a.push({name:t,args:c}),a}(a.selector),a)}var t=0,n="css-",a=/<<id>>/g,c=/<<(?:\:){0,1}(\d+)>>(\;){0,1}/g,s="<<id>>";export default function(o){return function(i,u){void 0===u&&(u=[]);var l=document.createElement(i);return function(p){for(var f=[],m=arguments.length-1;m-- >0;)f[m]=arguments[m+1];var d=n+t++,h=0,v=function e(r,t,n,a){if(r=r.map(function(r){switch(r.type){case"keyframes":return"@keyframes "+t+"-"+r.value+"{"+e(r.children,"","",!0)+"}";case"media":return"@media "+r.value+"{"+e(r.children,t,n,!0)+"}";case"selector":return r.selectors.map(function(e){var r=e.name;return/:host/.test(e.name)&&e.args.length&&(r=e.args.map(function(r){return""+e.name+r}).join(",")),/:global/.test(e.name)&&(r=e.args.join(",")),r.replace(/:host/g,n+t)}).join(",")+"{"+r.properties.map(function(e){var r=e.index,n=e.value;return/^animation(-name){0,1}$/.test(r)&&(n=n.replace(/(\s*)/,t+"-$1")),r+":"+n}).join(";")+"}";case"import":return r.selector+";";default:return""}}),!a){var s="",o="";return r.forEach(function(e){c.test(e)?o+=e:s+=e}),{globals:s,locals:o}}return r.join("")}(function t(n){var a,c,s="",o=0,i=[],u=0,l=0,p=[];n=e(n).replace(/([^\:]+):([^\;]+){0,1}}/g,"$1:$2;}");for(var f=0;f<n.length;f++)if(a=n[f],"\\"===n[f-1]||!/\"|\'/.test(a)&&u||l)s+=a;else switch(a){case";":if(/\{/.test(s))s+=a;else{var m=s.match(/([^\:]+):(.+)/)||[],d=m[1],h=m[2];d&&h&&(c.properties.push({index:e(d),value:e(h)}),s="")}break;case"{":o++?s+=a:(c=r(s),i.push(c),s="");break;case"}":if(--o)p.push(s+=a);else{for(var v=[],g=0;g<p.length;g++)v=v.concat(t(p[g]));c.children=v,p=[]}s="";break;case"'":u?u--:u++,s+=a;break;case'"':l?l--:l++,s+=a;break;default:s+=a}return i}(p=p.map(function(e,r){return e+="function"==typeof f[r]?/\:(\s+)$/.test(e)?"<<"+r+">>":"<<:"+r+">>;":f[r]||""}).join("")),s,"."),g=v.locals;return function(e,r){var t=document.querySelector("style"+e);t||(t=document.createElement("style"),document.head.append(t)),t.innerHTML=r.replace(a,e)}(d,v.globals),function(e,r,t){var n=d+"-"+h++,s=g.replace(a,n).replace(c,function(a,c,s){return f[c](e,t||r,{idGlobal:d,idLocal:n})+(s||"")}),p={class:d+" "+n+" "+(e.class||"")};for(var m in e)(m in l||"function"==typeof e[m]||u.indexOf(m)>-1)&&(p[m]=e[m]);return o.apply(void 0,[i,p,o("style",{},s)].concat(e.children))}}}}
//# sourceMappingURL=orby-css.mjs.map
