function a(a){return a.trim?a.trim():a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function n(n){var i=[],s=[],f={selector:n=a(n),children:i,type:"selector",properties:s},h=n.match(/^\@(\w+) (.+)/);return h?{selector:h[0],type:h[1],value:h[2],children:i,properties:s}:(f.selectors=function(n){n=a(n);for(var i,s="",f=0,h=[],m=[],v=0;v<n.length;v++){var c=n[v];"("===c?f++?s+=c:(m=[],i=s,s=""):")"===c?--f?s+=c:(m.push(s),h.push({name:i,args:m}),s="",m=[]):","===c?(s&&(f?m.push(s):h.push({name:s})),s=""):s+=c}return s&&h.push({name:s,args:m}),h}(f.selector),f)}function i(a,n){var i={};for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&-1===n.indexOf(s)&&(i[s]=a[s]);return i}var s=0,f="css-",h=/<<id>>/g,m=/<<(?:\:){0,1}(\d+)>>(\;){0,1}/g,v=/^animation(-name){0,1}$/,c="<<id>>";function p(a,n,s,f){if(!f){var h=function a(n){for(var s=[],f=[],h=0;h<n.length;h++){for(var c=n[h],p=c.properties,g=i(c,["properties"]),o=p.length,j=[],y=[],d=0;d<o;d++){var O=p[d],w=O.value,F=O.index;m.test(w)||v.test(F)?j.push({value:w,index:F}):y.push({value:w,index:F})}if(o)j.length&&s.push(Object.assign({},g,{properties:j})),y.length&&f.push(Object.assign({},g,{properties:y}));else switch(g.type){case"media":case"supports":var E=a(g.children);s=s.concat(Object.assign({},g,{properties:[],children:E.locals})),f=f.concat(Object.assign({},g,{properties:[],children:E.globals}));break;default:f.push(Object.assign({},g,{properties:[]}))}}return{globals:f,locals:s}}(a);a=h.locals.concat(h.globals)}if(a=a.map(function(a){switch(a.type){case"keyframes":return"@keyframes "+n+"-"+a.value+"{"+p(a.children,"","",!0)+"}";case"media":return"@media "+a.value+"{"+p(a.children,n,s,!0)+"}";case"selector":return a.selectors.map(function(a){var i=a.name;return/:host/.test(a.name)&&a.args.length&&(i=a.args.map(function(n){return""+a.name+n}).join(",")),/:global/.test(a.name)&&(i=a.args.join(",")),i.replace(/:host/g,s+n)}).join(",")+"{"+a.properties.map(function(a){var i=a.index,s=a.value;return v.test(i)&&(s=s.replace(/(\s*)/,n+"-$1")),i+":"+s}).join(";")+"}";case"import":return a.selector+";";default:return""}}),!f){var c="",g="";return a.forEach(function(a){m.test(a)?g+=a:c+=a}),{globals:c,locals:g}}return a.join("")}export default function(i){return function(v,g){void 0===g&&(g=[]);var o="function"==typeof v,j=o?{}:document.createElement(v);return function(y){for(var d=[],O=arguments.length-1;O-- >0;)d[O]=arguments[O+1];var w=f+s++,F=0,E=p(function i(s){var f,h,m="",v=0,c=[],p=0,g=0,o=[];s=a(s).replace(/([^\:]+):([^\;]+){0,1}}/g,"$1:$2;}");for(var j=0;j<s.length;j++)if(f=s[j],"\\"!==s[j-1])if(p||g)m+=f,"'"!==f&&'"'!==f||("'"===f?p=!1:g=!1);else switch(f){case";":if(/\{/.test(m))m+=f;else{var y=(m=a(m)).match(/^([\w\<\-]+)(?:\s*):(.+)/)||[],d=y[1],O=y[2];d&&O?h.properties.push({index:d,value:a(O)}):m&&c.push(n(m)),m=""}break;case"{":v++?m+=f:(h=n(m),c.push(h),m="");break;case"}":if(--v)o.push(m+=f);else{for(var w=[],F=0;F<o.length;F++)w=w.concat(i(o[F]));h.children=w,o=[]}m="";break;case"'":p=!0,m+=f;break;case'"':g=!0,m+=f;break;default:m+=f}else m+=f;return c}(y=y.map(function(a,n){return a+="function"==typeof d[n]?/\:(\s+)$/.test(a)?"<<"+n+">>":"<<:"+n+">>;":d[n]||""}).join("")),c,"."),k=E.locals;return function(a,n){var i=document.querySelector("style."+a);i||((i=document.createElement("style")).className=a,document.head.append(i)),i.innerHTML=n.replace(h,a)}(w,E.globals),function(a,n,s){var f=w+"-"+F++,c=k.replace(/animation(-name){0,1}(\s*):(\s*)<<id>>/g,function(a){return a.replace(h,w)}).replace(h,f).replace(m,function(i,h,m){return d[h](a,s||n,{idGlobal:w,idLocal:f})+(m||"")}),p={class:w+" "+f+" "+(a.class||"")};for(var y in a)(o||y in j||"function"==typeof a[y]||g.indexOf(y)>-1)&&(p[y]=a[y]);return i.apply(void 0,[v,p,i("style",{},c)].concat(a.children))}}}}
//# sourceMappingURL=orby-css.mjs.map
