!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):e["@orby/css"]=r()}(this,function(){function e(e){return e.trim?e.trim():e.replace(/^\s*|\s*$/,"")}function r(r){var n=[],t=[],a={selector:r=e(r),children:n,type:"selector",properties:t},o=r.match(/^\@(\w+) (.+)/);return o?{selector:o[0],type:o[1],value:o[2],children:n,properties:t}:(a.selectors=function(e){for(var r,n="",t=0,a=[],o=[],c=0;c<e.length;c++){var s=e[c];"("===s?t++?n+=s:(o=[],r=n,n=""):")"===s?--t?n+=s:(o.push(n),a.push({name:r,args:o}),n="",o=[]):","===s?(n&&(t?o.push(n):a.push({name:n})),n=""):n+=s}return n&&a.push({name:n,args:o}),a}(a.selector),a)}var n=0,t="css-",a=/<<id>>/g,o=/<<(?:\:){0,1}(\d+)>>(\;){0,1}/g,c="<<id>>";return function(s){return function(i,u){void 0===u&&(u=[]);var l=document.createElement(i);return function(f){for(var p=[],d=arguments.length-1;d-- >0;)p[d]=arguments[d+1];var m=t+n++,h=0,v=function e(r,n,t,a){if(r=r.map(function(r){switch(r.type){case"keyframes":return"@keyframes "+n+"-"+r.value+"{"+e(r.children,"","",!0)+"}";case"media":return"@media "+r.value+"{"+e(r.children,n,t,!0)+"}";case"selector":return r.selectors.map(function(e){var r=e.name;return/:host/.test(e.name)&&e.args.length&&(r=e.args.map(function(r){return""+e.name+r}).join(",")),/:global/.test(e.name)&&(r=e.args.join(",")),r.replace(/:host/g,t+n)}).join(",")+"{"+r.properties.map(function(e){var r=e.index,t=e.value;return/^animation(-name){0,1}$/.test(r)&&(t=t.replace(/(\s*)/,n+"-$1")),r+":"+t}).join(";")+"}";case"import":return r.selector+";";default:return""}}),!a){var c="",s="";return r.forEach(function(e){o.test(e)?s+=e:c+=e}),{globals:c,locals:s}}return r.join("")}(function n(t){var a,o,c="",s=0,i=[],u=0,l=0,f=[];t=e(t).replace(/([^\:]+):([^\;]+){0,1}}/g,"$1:$2;}");for(var p=0;p<t.length;p++)if(a=t[p],"\\"===t[p-1]||!/\"|\'/.test(a)&&u||l)c+=a;else switch(a){case";":if(/\{/.test(c))c+=a;else{var d=c.match(/([^\:]+):(.+)/)||[],m=d[1],h=d[2];m&&h&&(o.properties.push({index:e(m),value:e(h)}),c="")}break;case"{":s++?c+=a:(o=r(c),i.push(o),c="");break;case"}":if(--s)f.push(c+=a);else{for(var v=[],g=0;g<f.length;g++)v=v.concat(n(f[g]));o.children=v,f=[]}c="";break;case"'":u?u--:u++,c+=a;break;case'"':l?l--:l++,c+=a;break;default:c+=a}return i}(f=f.map(function(e,r){return e+="function"==typeof p[r]?/\:(\s+)$/.test(e)?"<<"+r+">>":"<<:"+r+">>;":p[r]||""}).join("")),c,"."),g=v.locals;return function(e,r){var n=document.querySelector("style"+e);n||(n=document.createElement("style"),document.head.append(n)),n.innerHTML=r.replace(a,e)}(m,v.globals),function(e,r,n){var t=m+"-"+h++,c=g.replace(a,t).replace(o,function(a,o,c){return p[o](e,n||r,{idGlobal:m,idLocal:t})+(c||"")}),f={class:m+" "+t+" "+(e.class||"")};for(var d in e)(d in l||"function"==typeof e[d]||u.indexOf(d)>-1)&&(f[d]=e[d]);return s.apply(void 0,[i,f,s("style",{},c)].concat(e.children))}}}}});
//# sourceMappingURL=orby-css.umd.js.map
