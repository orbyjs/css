!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):e["@orby/css"]=r()}(this,function(){function e(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function r(r){var n=[],t=[],a={selector:r=e(r),children:n,type:"selector",properties:t},o=r.match(/^\@(\w+) (.+)/);return o?{selector:o[0],type:o[1],value:o[2],children:n,properties:t}:(a.selectors=function(r){r=e(r);for(var n,t="",a=0,o=[],c=[],s=0;s<r.length;s++){var i=r[s];"("===i?a++?t+=i:(c=[],n=t,t=""):")"===i?--a?t+=i:(c.push(t),o.push({name:n,args:c}),t="",c=[]):","===i?(t&&(a?c.push(t):o.push({name:t})),t=""):t+=i}return t&&o.push({name:t,args:c}),o}(a.selector),a)}var n=0,t="css-",a=/<<id>>/g,o=/<<(?:\:){0,1}(\d+)>>(\;){0,1}/g,c="<<id>>";return function(s){return function(i,u){void 0===u&&(u=[]);var l="function"==typeof i,f=l?{}:document.createElement(i);return function(p){for(var d=[],m=arguments.length-1;m-- >0;)d[m]=arguments[m+1];var h=t+n++,v=0,g=function e(r,n,t,a){if(r=r.map(function(r){switch(r.type){case"keyframes":return"@keyframes "+n+"-"+r.value+"{"+e(r.children,"","",!0)+"}";case"media":return"@media "+r.value+"{"+e(r.children,n,t,!0)+"}";case"selector":return r.selectors.map(function(e){var r=e.name;return/:host/.test(e.name)&&e.args.length&&(r=e.args.map(function(r){return""+e.name+r}).join(",")),/:global/.test(e.name)&&(r=e.args.join(",")),r.replace(/:host/g,t+n)}).join(",")+"{"+r.properties.map(function(e){var r=e.index,t=e.value;return/^animation(-name){0,1}$/.test(r)&&(t=t.replace(/(\s*)/,n+"-$1")),r+":"+t}).join(";")+"}";case"import":return r.selector+";";default:return""}}),!a){var c="",s="";return r.forEach(function(e){o.test(e)?s+=e:c+=e}),{globals:c,locals:s}}return r.join("")}(function n(t){var a,o,c="",s=0,i=[],u=0,l=0,f=[];t=e(t).replace(/([^\:]+):([^\;]+){0,1}}/g,"$1:$2;}");for(var p=0;p<t.length;p++)if(a=t[p],"\\"!==t[p-1])if(u||l)c+=a,"'"!==a&&'"'!==a||("'"===a?u=!1:l=!1);else switch(a){case";":if(/\{/.test(c))c+=a;else{var d=(c=e(c)).match(/^([\w\<\-]+)(?:\s*):(.+)/)||[],m=d[1],h=d[2];m&&h?o.properties.push({index:m,value:e(h)}):c&&i.push(r(c)),c=""}break;case"{":s++?c+=a:(o=r(c),i.push(o),c="");break;case"}":if(--s)f.push(c+=a);else{for(var v=[],g=0;g<f.length;g++)v=v.concat(n(f[g]));o.children=v,f=[]}c="";break;case"'":u=!0,c+=a;break;case'"':l=!0,c+=a;break;default:c+=a}else c+=a;return i}(p=p.map(function(e,r){return e+="function"==typeof d[r]?/\:(\s+)$/.test(e)?"<<"+r+">>":"<<:"+r+">>;":d[r]||""}).join("")),c,"."),y=g.locals;return function(e,r){var n=document.querySelector("style"+e);n||(n=document.createElement("style"),document.head.append(n)),n.innerHTML=r.replace(a,e)}(h,g.globals),function(e,r,n){var t=h+"-"+v++,c=y.replace(a,t).replace(o,function(a,o,c){return d[o](e,n||r,{idGlobal:h,idLocal:t})+(c||"")}),p={class:h+" "+t+" "+(e.class||"")};for(var m in e)(l||m in f||"function"==typeof e[m]||u.indexOf(m)>-1)&&(p[m]=e[m]);return s.apply(void 0,[i,p,s("style",{},c)].concat(e.children))}}}}});
//# sourceMappingURL=orby-css.umd.js.map
