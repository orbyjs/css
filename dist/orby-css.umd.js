!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(e["@orby/css"]={})}(this,function(e){var n={id:0,cache:{},prefix:"--cn-",getClassName:function(){return this.prefix+this.id++}};function t(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function r(e){var n=[],r=[],a={selector:e=t(e),children:n,type:"selector",properties:r},s=e.match(/^\@(\w+) (.+)/);return s?{selector:s[0],type:s[1],value:s[2],children:n,properties:r}:(a.selectors=function(e){var n=(e=t(e)).length,r="",a=0,s=[],c=[],u="",i=0,o=0,l={value:"",args:[]},f=function(e){return-1===c.indexOf(e)&&c.push(e)},p=function(e){return-1===s.indexOf(e)&&s.push(e)};p(l);for(var v=0;v<n;v++)if(r=e[v],i||o)u+=r,"'"!==r&&'"'!==r||("'"===r?i=!1:o=!1);else switch(r){case":":":"===e[v-1]?l.value+=":":l.value?(p(l),p(l={value:":",args:[]})):l.value=":",u="";break;case"(":case")":"("==r?a++||(u=""):--a||(l.args.push(u),u="");break;case"'":case'"':"'"===r?i++:o++,u+=r;break;case",":a?(l.args.push(u),u=""):(s.length&&f(s),l.value&&p(l),f(s=[l={value:"",args:[]}]));break;case"\n":continue;default:a?u+=r:l.value+=r}return l.value&&p(l),s.length&&f(s),c}(a.selector),a)}function a(e){var n,s,c="",u=0,i=[],o=0,l=0,f=[];e=t(e).replace(/([^\:]+):([^\;]+){0,1}}/g,"$1:$2;}");for(var p=0;p<e.length;p++)if(n=e[p],"\\"!==e[p-1])if(o||l)c+=n,"'"!==n&&'"'!==n||("'"===n?o=!1:l=!1);else switch(n){case";":if(/\{/.test(c))c+=n;else{var v=(c=t(c)).match(/^([\w\<\-]+)(?:\s*):(.+)/)||[],h=v[1],d=v[2];h&&d?s.properties.push({index:h,value:t(d)}):c&&i.push(r(c)),c=""}break;case"{":u++?c+=n:(s=r(c),i.push(s),c="");break;case"}":if(--u)f.push(c+=n);else{for(var m=[],g=0;g<f.length;g++)m=m.concat(a(f[g]));s.children=m,f=[]}c="";break;case"'":o=!0,c+=n;break;case'"':l=!0,c+=n;break;case" ":case"\n":c+=" "===e[p-1]?"":" ";break;default:c+=n}else c+=n;return i}function s(e){return e.map(function(e){var n=e.args;return e.value+(n.length?"("+n.join(",")+")":"")}).join("")}function c(e,n,t,r){void 0===t&&(t=""),void 0===r&&(r=0);var a=[],u="."+n,i=e.selectors.map(function(e){var n=e[0],a=n.value,c=n.args,i=e.slice(1);switch(a=a.replace(/(\s+)$/," ").replace(/^(\s+)/,"")){case":host":return c.length?c.map(function(e){return u+e}):u;case":global":return c.join(",");case"& ":case"&":return t+("&"===a?"":" ")+s(i);default:var o=a.match(/(&)(\s*)(.+)/)||[],l=o[2];return void 0===l&&(l=""),r?(t?t+(o[1]?l:""):"")+(o[3]||a)+s(i):u+" "+(a+s(i))}}),o=e.properties.map(function(e){var t=e.index,r=e.value;return/^animation(-name){0,1}$/.test(t)&&(r=n+r),t+":"+r});return o.length&&a.push(i.join(",")+"{"+o.join(";")+"}"),e.children.map(function(e){(e=i.map(function(t){return c(e,n,t,r+1)})).length&&(a=a.concat.apply(a,e))}),a}function u(e,n,t){return void 0===t&&(t=""),e.reduce(function(e,t){switch(t.type){case"keyframes":return e.concat("@keyframes "+(n+t.value)+"{"+t.children.map(function(e){return c(e,n,"",1)}).join("")+"}");case"media":case"supports":return e.concat("@media "+t.value+"{"+t.children.map(function(e){return c(e,n)}).join("")+"}");case"selector":return e.concat(c(t,n));case"import":return e.concat(t.selector+";");default:return e}},[])}function i(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];var s={},c=n.getClassName(),i=0;return{rules:u(a(e.map(function(e,n){if("function"==typeof t[n]){var r=c+"-"+i++;s[r]=t[n],e+="var("+r+")"}else e+=t[n]||"";return e}).join("")),c),className:c,customVars:s,toString:function(){return c}}}function o(e){var t=n.document||document;return n.HTMLInstances||(n.HTMLInstances={}),n.HTMLInstances[e]||(n.HTMLInstances[e]=t.createElement(e)),n.HTMLInstances[e]}e.getTagInstance=o,e.createStyled=function(e,t){return function(r){var a="function"==typeof r,s=a?{}:o(r)||{};return function(c){for(var u=[],o=arguments.length-1;o-- >0;)u[o]=arguments[o+1];var l=i.apply(void 0,[c].concat(u)),f=l.className,p=l.rules,v=l.customVars,h=n.document||document,d=h.getElementById(f),m=d||h.createElement("style");function g(n,c){var u=t?"object"==typeof n.style?n.style:{}:"string"==typeof n.style?n.style:"",i={},o=[f];for(var l in(n.className||n.class)&&o.push(n.nextClassName||n.class),v){var p=v[l](n,c);t?u[l]=p:p&&(u+=l+":"+p+";")}for(var h in n)(a||"function"==typeof n[h]||h in s)&&(i[h]=n[h]);return i.className=o.join(" "),i.style=u,e(r,i,n.children)}return d||(m.id=f,h.head.appendChild(m)),m.sheet&&!n.disableSheet?p.map(function(e,n){return m.sheet.insertRule(e,n)}):m.innerHTML=p.join(""),g.className=f,g.is=function(e){return f+e},g}}},e.parse=a,e.options=n,e.css=i});
//# sourceMappingURL=orby-css.umd.js.map
