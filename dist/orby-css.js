function a(a){return a.trim?a.trim():a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function n(n){var s=[],i=[],f={selector:n=a(n),children:s,type:"selector",properties:i},h=n.match(/^\@(\w+) (.+)/);return h?{selector:h[0],type:h[1],value:h[2],children:s,properties:i}:(f.selectors=function(n){n=a(n);for(var s,i="",f=0,h=[],m=[],v=0;v<n.length;v++){var c=n[v];"("===c?f++?i+=c:(m=[],s=i,i=""):")"===c?--f?i+=c:(m.push(i),h.push({name:s,args:m}),i="",m=[]):","===c?(i&&(f?m.push(i):h.push({name:i})),i=""):i+=c}return i&&h.push({name:i,args:m}),h}(f.selector),f)}function s(a,n){var s={};for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&-1===n.indexOf(i)&&(s[i]=a[i]);return s}var i="orby-css",f=0,h="css-",m=/<<id>>/g,v=/<<(?:\:){0,1}(\d+)>>(\;){0,1}/g,c=/^animation(-name){0,1}$/,p="<<id>>";function o(a,n,i,f){if(!f){var h=function a(n){for(var i=[],f=[],h=0;h<n.length;h++){for(var m=n[h],p=m.properties,o=s(m,["properties"]),d=p.length,g=[],y=[],j=0;j<d;j++){var k=p[j],E=k.value,O=k.index;v.test(E)||c.test(O)?g.push({value:E,index:O}):y.push({value:E,index:O})}if(d)g.length&&i.push(Object.assign({},o,{properties:g})),y.length&&f.push(Object.assign({},o,{properties:y}));else switch(o.type){case"media":case"supports":var w=a(o.children);i=i.concat(Object.assign({},o,{properties:[],children:w.locals})),f=f.concat(Object.assign({},o,{properties:[],children:w.globals}));break;default:f.push(Object.assign({},o,{properties:[]}))}}return{globals:f,locals:i}}(a);a=h.locals.concat(h.globals)}if(a=a.map(function(a){switch(a.type){case"keyframes":return"@keyframes "+n+"-"+a.value+"{"+o(a.children,"","",!0)+"}";case"media":return"@media "+a.value+"{"+o(a.children,n,i,!0)+"}";case"selector":return a.selectors.map(function(a){var s=a.name;return/:host/.test(a.name)&&a.args.length&&(s=a.args.map(function(n){return""+a.name+n}).join(",")),/:global/.test(a.name)&&(s=a.args.join(",")),s.replace(/:host/g,i+n)}).join(",")+"{"+a.properties.map(function(a){var s=a.index,i=a.value;return c.test(s)&&(i=i.replace(/(\s*)/,n+"-$1")),s+":"+i}).join(";")+"}";case"import":return a.selector+";";default:return""}}),!f){var m="",p="";return a.forEach(function(a){v.test(a)?p+=a:m+=a}),{globals:m,locals:p}}return a.join("")}module.exports=function(s){return function(c,d){void 0===d&&(d=[]);var g,y,j="function"==typeof c;switch(c){case"a":g=HTMLLinkElement;break;case"svg":g=SVGElement;break;case"img":g=HTMLImageElement;break;case"button":g=HTMLButtonElement;break;case"input":g=HTMLInputElement;break;default:g=HTMLElement}return y=g.prototype,function(g){for(var k=[],E=arguments.length-1;E-- >0;)k[E]=arguments[E+1];var O=h+f++,w=0,F=o(function s(i){var f,h,m="",v=0,c=[],p=0,o=0,d=[];i=a(i).replace(/([^\:]+):([^\;]+){0,1}}/g,"$1:$2;}");for(var g=0;g<i.length;g++)if(f=i[g],"\\"!==i[g-1])if(p||o)m+=f,"'"!==f&&'"'!==f||("'"===f?p=!1:o=!1);else switch(f){case";":if(/\{/.test(m))m+=f;else{var y=(m=a(m)).match(/^([\w\<\-]+)(?:\s*):(.+)/)||[],j=y[1],k=y[2];j&&k?h.properties.push({index:j,value:a(k)}):m&&c.push(n(m)),m=""}break;case"{":v++?m+=f:(h=n(m),c.push(h),m="");break;case"}":if(--v)d.push(m+=f);else{for(var E=[],O=0;O<d.length;O++)E=E.concat(s(d[O]));h.children=E,d=[]}m="";break;case"'":p=!0,m+=f;break;case'"':o=!0,m+=f;break;default:m+=f}else m+=f;return c}(g=g.map(function(a,n){return a+="function"==typeof k[n]?/\:(\s+)$/.test(a)?"<<"+n+">>":"<<:"+n+">>;":k[n]||""}).join("")),p,"."),x=F.locals;return function(a,n){var s=document.querySelector("style#"+i);s||((s=document.createElement("style")).id=i,document.head.append(s)),s.appendChild(document.createTextNode(n.replace(m,a)))}(O,F.globals),function(a,n,i){var f=O+"-"+w++,h=x.replace(/animation(-name){0,1}(\s*):(\s*)<<id>>/g,function(a){return a.replace(m,O)}).replace(m,f).replace(v,function(s,h,m){return k[h](a,i||n,{idGlobal:O,idLocal:f})+(m||"")}),p={class:O+" "+f+" "+(a.class||"")};for(var o in a)(j||o in y||"function"==typeof a[o]||d.indexOf(o)>-1)&&(p[o]=a[o]);return s.apply(void 0,[c,p,s("style",{},h)].concat(a.children))}}}};
//# sourceMappingURL=orby-css.js.map
