function a(a){return a.trim?a.trim():a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function n(n){var s=[],i=[],f={selector:n=a(n),children:s,type:"selector",properties:i},h=n.match(/^\@(\w+) (.+)/);return h?{selector:h[0],type:h[1],value:h[2],children:s,properties:i}:(f.selectors=function(n){n=a(n);for(var s,i="",f=0,h=[],m=[],v=0;v<n.length;v++){var c=n[v];"("===c?f++?i+=c:(m=[],s=i,i=""):")"===c?--f?i+=c:(m.push(i),h.push({name:s,args:m}),i="",m=[]):","===c?(i&&(f?m.push(i):h.push({name:i})),i=""):i+=c}return i&&h.push({name:i,args:m}),h}(f.selector),f)}function s(a,n){var s={};for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&-1===n.indexOf(i)&&(s[i]=a[i]);return s}var i=0,f="css-",h=/<<id>>/g,m=/<<(?:\:){0,1}(\d+)>>(\;){0,1}/g,v=/^animation(-name){0,1}$/,c="<<id>>";function p(a,n,i,f){if(!f){var h=function a(n){for(var i=[],f=[],h=0;h<n.length;h++){for(var c=n[h],p=c.properties,o=s(c,["properties"]),g=p.length,j=[],y=[],d=0;d<g;d++){var O=p[d],w=O.value,F=O.index;m.test(w)||v.test(F)?j.push({value:w,index:F}):y.push({value:w,index:F})}if(g)j.length&&i.push(Object.assign({},o,{properties:j})),y.length&&f.push(Object.assign({},o,{properties:y}));else switch(o.type){case"media":case"supports":var E=a(o.children);i=i.concat(Object.assign({},o,{properties:[],children:E.locals})),f=f.concat(Object.assign({},o,{properties:[],children:E.globals}));break;default:f.push(Object.assign({},o,{properties:[]}))}}return{globals:f,locals:i}}(a);a=h.locals.concat(h.globals)}if(a=a.map(function(a){switch(a.type){case"keyframes":return"@keyframes "+n+"-"+a.value+"{"+p(a.children,"","",!0)+"}";case"media":return"@media "+a.value+"{"+p(a.children,n,i,!0)+"}";case"selector":return a.selectors.map(function(a){var s=a.name;return/:host/.test(a.name)&&a.args.length&&(s=a.args.map(function(n){return""+a.name+n}).join(",")),/:global/.test(a.name)&&(s=a.args.join(",")),s.replace(/:host/g,i+n)}).join(",")+"{"+a.properties.map(function(a){var s=a.index,i=a.value;return v.test(s)&&(i=i.replace(/(\s*)/,n+"-$1")),s+":"+i}).join(";")+"}";case"import":return a.selector+";";default:return""}}),!f){var c="",o="";return a.forEach(function(a){m.test(a)?o+=a:c+=a}),{globals:c,locals:o}}return a.join("")}module.exports=function(s){return function(v,o){void 0===o&&(o=[]);var g="function"==typeof v,j=g?{}:document.createElement(v);return function(y){for(var d=[],O=arguments.length-1;O-- >0;)d[O]=arguments[O+1];var w=f+i++,F=0,E=p(function s(i){var f,h,m="",v=0,c=[],p=0,o=0,g=[];i=a(i).replace(/([^\:]+):([^\;]+){0,1}}/g,"$1:$2;}");for(var j=0;j<i.length;j++)if(f=i[j],"\\"!==i[j-1])if(p||o)m+=f,"'"!==f&&'"'!==f||("'"===f?p=!1:o=!1);else switch(f){case";":if(/\{/.test(m))m+=f;else{var y=(m=a(m)).match(/^([\w\<\-]+)(?:\s*):(.+)/)||[],d=y[1],O=y[2];d&&O?h.properties.push({index:d,value:a(O)}):m&&c.push(n(m)),m=""}break;case"{":v++?m+=f:(h=n(m),c.push(h),m="");break;case"}":if(--v)g.push(m+=f);else{for(var w=[],F=0;F<g.length;F++)w=w.concat(s(g[F]));h.children=w,g=[]}m="";break;case"'":p=!0,m+=f;break;case'"':o=!0,m+=f;break;default:m+=f}else m+=f;return c}(y=y.map(function(a,n){return a+="function"==typeof d[n]?/\:(\s+)$/.test(a)?"<<"+n+">>":"<<:"+n+">>;":d[n]||""}).join("")),c,"."),k=E.locals;return function(a,n){var s=document.querySelector("style."+a);s||((s=document.createElement("style")).className=a,document.head.append(s)),s.innerHTML=n.replace(h,a)}(w,E.globals),function(a,n,i){var f=w+"-"+F++,c=k.replace(/animation(-name){0,1}(\s*):(\s*)<<id>>/g,function(a){return a.replace(h,w)}).replace(h,f).replace(m,function(s,h,m){return d[h](a,i||n,{idGlobal:w,idLocal:f})+(m||"")}),p={class:w+" "+f+" "+(a.class||"")};for(var y in a)(g||y in j||"function"==typeof a[y]||o.indexOf(y)>-1)&&(p[y]=a[y]);return s.apply(void 0,[v,p,s("style",{},c)].concat(a.children))}}}};
//# sourceMappingURL=orby-css.js.map
