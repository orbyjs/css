var e={};function r(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function n(e){var n=[],t=[],a={selector:e=r(e),children:n,type:"selector",properties:t},s=e.match(/^\@(\w+) (.+)/);return s?{selector:s[0],type:s[1],value:s[2],children:n,properties:t}:(a.selectors=function(e){var n=(e=r(e)).length,t="",a=0,s=[],c=[],u="",o=0,i=0,l={value:"",args:[]},p=function(e){return-1===c.indexOf(e)&&c.push(e)},f=function(e){return-1===s.indexOf(e)&&s.push(e)};f(l);for(var v=0;v<n;v++)if(t=e[v],o||i)u+=t,"'"!==t&&'"'!==t||("'"===t?o=!1:i=!1);else switch(t){case":":":"===e[v-1]?l.value+=":":l.value?(f(l),f(l={value:":",args:[]})):l.value=":",u="";break;case"(":case")":"("==t?a++||(u=""):--a||(l.args.push(u),u="");break;case"'":case'"':"'"===t?o++:i++,u+=t;break;case",":a?(l.args.push(u),u=""):(s.length&&p(s),l.value&&f(l),p(s=[l={value:"",args:[]}]));break;case"\n":continue;default:a?u+=t:l.value+=t}return l.value&&f(l),s.length&&p(s),c}(a.selector),a)}function t(e){var a,s,c="",u=0,o=[],i=0,l=0,p=[];e=r(e).replace(/([^\:]+):([^\;]+){0,1}}/g,"$1:$2;}");for(var f=0;f<e.length;f++)if(a=e[f],"\\"!==e[f-1])if(i||l)c+=a,"'"!==a&&'"'!==a||("'"===a?i=!1:l=!1);else switch(a){case";":if(/\{/.test(c))c+=a;else{var v=(c=r(c)).match(/^([\w\<\-]+)(?:\s*):(.+)/)||[],h=v[1],m=v[2];h&&m?s.properties.push({index:h,value:r(m)}):c&&o.push(n(c)),c=""}break;case"{":u++?c+=a:(s=n(c),o.push(s),c="");break;case"}":if(--u)p.push(c+=a);else{for(var d=[],g=0;g<p.length;g++)d=d.concat(t(p[g]));s.children=d,p=[]}c="";break;case"'":i=!0,c+=a;break;case'"':l=!0,c+=a;break;default:c+=a}else c+=a;return o}var a=0;function s(r){var n=e.document||document;return e.HTMLInstances||(e.HTMLInstances={}),e.HTMLInstances[r]||(e.HTMLInstances[r]=n.createElement(r)),e.HTMLInstances[r]}function c(e){return e.map(function(e){var r=e.args;return e.value+(r.length?"("+r.join(",")+")":"")}).join(":")}function u(e,r,n,t){void 0===t&&(t=0);var a=[],s="."+r,o=e.selectors.map(function(e){var r=e[0],a=r.value,u=r.args,o=e.slice(1);switch(a=a.replace(/(\s+)$/," ")){case":host":return u.length?u.map(function(e){return s+e}):s;case":global":return u.join(",");case"& ":case"&":return n+("&"===a?"":" ")+c(o);default:return t?(n?n+" ":"")+a+c(o):s+" "+(a+c(o))}}),i=e.properties.map(function(e){var n=e.index,t=e.value;return/^animation(-name){0,1}$/.test(n)&&(t=r+t),n+":"+t});return i.length&&a.push(o.join(",")+"{"+i.join(";")+"}"),e.children.map(function(e){(e=o.map(function(n){return u(e,r,n,t+1)})).length&&(a=a.concat.apply(a,e))}),a}function o(e,r,n){return void 0===n&&(n=""),e.reduce(function(e,n){switch(n.type){case"keyframes":return e.concat("@keyframes "+(r+n.value)+"{"+n.children.map(function(e){return u(e,r,"",1)}).join("")+"}");case"media":case"supports":return e.concat("@media "+n.value+"{"+n.children.map(function(e){return u(e,r)}).join("")+"}");case"selector":return e.concat(u(n,r));case"import":return e.concat(n.selector+";");default:return e}},[])}function i(e,r){var n={},s="--cn-"+a++,c=0,u=e.map(function(e,t){if("function"==typeof r[t]){var a=s+"-"+c++;n[a]=r[t],e+="var("+a+")"}else e+=r[t]||"";return e}).join("");return{space:s,rules:o(t(u),s),customVars:n}}exports.getTagInstance=s,exports.stateToArgs=c,exports.createRuleSelector=u,exports.createStaticCss=o,exports.transpile=i,exports.createStyled=function(r){return function(n){var t="function"==typeof n,a=t?{}:s(n)||{};return function(s){for(var c=[],u=arguments.length-1;u-- >0;)c[u]=arguments[u+1];var o=i(s,c),l=o.space,p=o.rules,f=o.customVars,v=e.document||document,h=v.getElementById(l),m=h||v.createElement("style");return h||(m.id=l,v.head.appendChild(m)),m.sheet&&!e.disableSheet?p.map(function(e,r){return m.sheet.insertRule(e,r)}):m.innerHTML=p.join(""),function(e,s){var c={},u={},o=[l];for(var i in(e.className||e.class)&&o.push(e.className||e.class),f){var p=f[i](e,s);p&&(c[i]=p)}for(var v in e)(t||"function"==typeof e[v]||v in a)&&(u[v]=e[v]);return u.className=u.class=o.join(" "),u.style=c,r(n,u,e.children)}}}},exports.parse=t,exports.options=e;
//# sourceMappingURL=orby-css.js.map
