var e={};function r(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function t(e){var t=[],n=[],a={selector:e=r(e),children:t,type:"selector",properties:n},s=e.match(/^\@(\w+) (.+)/);return s?{selector:s[0],type:s[1],value:s[2],children:t,properties:n}:(a.selectors=function(e){var t=(e=r(e)).length,n="",a=0,s=[],c=[],u="",o=0,i=0,l={value:"",args:[]},p=function(e){return-1===c.indexOf(e)&&c.push(e)},f=function(e){return-1===s.indexOf(e)&&s.push(e)};f(l);for(var v=0;v<t;v++)if(n=e[v],o||i)u+=n,"'"!==n&&'"'!==n||("'"===n?o=!1:i=!1);else switch(n){case":":":"===e[v-1]?l.value+=":":l.value?(f(l),f(l={value:":",args:[]})):l.value=":",u="";break;case"(":case")":"("==n?a++||(u=""):--a||(l.args.push(u),u="");break;case"'":case'"':"'"===n?o++:i++,u+=n;break;case",":a?(l.args.push(u),u=""):(s.length&&p(s),l.value&&f(l),p(s=[l={value:"",args:[]}]));break;case"\n":continue;default:a?u+=n:l.value+=n}return l.value&&f(l),s.length&&p(s),c}(a.selector),a)}function n(e){var a,s,c="",u=0,o=[],i=0,l=0,p=[];e=r(e).replace(/([^\:]+):([^\;]+){0,1}}/g,"$1:$2;}");for(var f=0;f<e.length;f++)if(a=e[f],"\\"!==e[f-1])if(i||l)c+=a,"'"!==a&&'"'!==a||("'"===a?i=!1:l=!1);else switch(a){case";":if(/\{/.test(c))c+=a;else{var v=(c=r(c)).match(/^([\w\<\-]+)(?:\s*):(.+)/)||[],h=v[1],m=v[2];h&&m?s.properties.push({index:h,value:r(m)}):c&&o.push(t(c)),c=""}break;case"{":u++?c+=a:(s=t(c),o.push(s),c="");break;case"}":if(--u)p.push(c+=a);else{for(var d=[],g=0;g<p.length;g++)d=d.concat(n(p[g]));s.children=d,p=[]}c="";break;case"'":i=!0,c+=a;break;case'"':l=!0,c+=a;break;default:c+=a}else c+=a;return o}var a=0;function s(r){var t=e.document||document;return e.HTMLInstances||(e.HTMLInstances={}),e.HTMLInstances[r]||(e.HTMLInstances[r]=t.createElement(r)),e.HTMLInstances[r]}function c(e){return e.map(function(e){var r=e.args;return e.value+(r.length?"("+r.join(",")+")":"")}).join(":")}function u(e,r,t,n){void 0===n&&(n=0);var a=[],s="."+r,o=e.selectors.map(function(e){var r=e[0],a=r.value,u=r.args,o=e.slice(1);switch(a=a.replace(/(\s+)$/," ")){case":host":return u.length?u.map(function(e){return s+e}):s;case":global":return u.join(",");case"& ":case"&":return t+("&"===a?"":" ")+c(o);default:return n?(t?t+" ":"")+a+c(o):s+" "+(a+c(o))}}),i=e.properties.map(function(e){var t=e.index,n=e.value;return/^animation(-name){0,1}$/.test(t)&&(n=r+n),t+":"+n});return i.length&&a.push(o.join(",")+"{"+i.join(";")+"}"),e.children.map(function(e){(e=o.map(function(t){return u(e,r,t,n+1)})).length&&(a=a.concat.apply(a,e))}),a}function o(e,r,t){return void 0===t&&(t=""),e.reduce(function(e,t){switch(t.type){case"keyframes":return e.concat("@keyframes "+(r+t.value)+"{"+t.children.map(function(e){return u(e,r,"",1)}).join("")+"}");case"media":case"supports":return e.concat("@media "+t.value+"{"+t.children.map(function(e){return u(e,r)}).join("")+"}");case"selector":return e.concat(u(t,r));case"import":return e.concat(t.selector+";");default:return e}},[])}function i(e,r){var t={},s="--cn-"+a++,c=0,u=e.map(function(e,n){if("function"==typeof r[n]){var a=s+"-"+c++;t[a]=r[n],e+="var("+a+")"}else e+=r[n]||"";return e}).join("");return{space:s,rules:o(n(u),s),customVars:t}}exports.getTagInstance=s,exports.stateToArgs=c,exports.createRuleSelector=u,exports.createStaticCss=o,exports.transpile=i,exports.createStyled=function(r){return function(t){var n="function"==typeof t,a=n?{}:s(t)||{};return function(s){for(var c=[],u=arguments.length-1;u-- >0;)c[u]=arguments[u+1];var o=i(s,c),l=o.space,p=o.rules,f=o.customVars,v=e.document||document,h=v.getElementById(l),m=h||v.createElement("style");return h||(m.id=l,v.head.appendChild(m)),m.sheet&&!e.disableSheet?p.map(function(e,r){return m.sheet.insertRule(e,r)}):m.innerHTML=p.join(""),function(e,s){var c="string"==typeof e.style?e.style:"",u={},o=[l];for(var i in(e.className||e.class)&&o.push(e.className||e.class),f){var p=f[i](e,s);p&&(c+=i+":"+p+";")}for(var v in e)(n||"function"==typeof e[v]||v in a)&&(u[v]=e[v]);return u.className=u.class=o.join(" "),u.style=c,r(t,u,e.children)}}}},exports.parse=n,exports.options=e;
//# sourceMappingURL=orby-css.js.map
